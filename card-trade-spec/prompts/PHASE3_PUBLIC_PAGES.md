# Phase 3: 公開ページ実装

## このフェーズのゴール
トップページ、買取価格一覧、買取の流れ、会社概要、特定商取引法ページの実装。

## 指示

### 1. トップページ `src/app/page.tsx`

以下のセクションコンポーネントを作成して組み合わせる:

**HeroSection** `src/components/home/HeroSection.tsx`:
- キャッチコピー: 「あなたのカードに、<span class="gradient">最高の価値</span>を。」
  （gradient部分は blue→purple グラデーション）
- サブコピー: 「ポケモンカード・遊戯王・ワンピースからデジタルカードまで。リアルもデジタルも、高価買取・販売。」
- バッジ: 「✦ トレカ＆デジタルカード専門」
- CTA: 「無料オンライン査定」（primary）「ショップを見る」（secondary）
- 背景: カテゴリカラーのカード型要素が浮遊するアニメーション（6枚、opacity低め）
- 背景グラデーション: 青〜暖色〜緑が混ざるソフトなグラデーション
- fadeInUp アニメーション（コンテンツがスクロールで出現）

**CategoryCards** `src/components/home/CategoryCards.tsx`:
- 4列グリッド
- 各カード: アイコン + カテゴリ名 + 説明文
  - ⚡ ポケモンカード: 「レアカードからプロモまで幅広く対応」
  - 🎭 遊戯王: 「20thシークレットなど高価買取」
  - 🏴‍☠️ ワンピースカード: 「パラレル・シークレット強化買取中」
  - 💎 デジタルカード: 「ガチャ系・NFTカードも対応」
- ホバーで上部にカテゴリカラーのラインが出現
- ホバーで浮き上がりエフェクト

**FeaturesBar** `src/components/home/FeaturesBar.tsx`:
- グラデーション背景の横幅いっぱいの帯
- 4列: 買取実績 10,000+ 件 / 取扱 5,000+ 種類 / 満足度 98% / 最短即日査定
- Orbitron フォントで数字を大きく表示
- 背景にSVGパターン（クロスマーク、opacity低め）

**FlowPreview** `src/components/home/FlowPreview.tsx`:
- 4ステップのカード
- Step1〜4: 査定申込→査定結果→承諾・発送→入金
- 「詳しく見る」ボタン → /flow

**NewArrivals** `src/components/home/NewArrivals.tsx`:
- Supabaseから最新の active 商品を8件取得
- ProductCardコンポーネントで表示（4列グリッド）
- 「もっと見る」ボタン → /shop

**Announcements セクション**:
- Supabaseから公開済みのお知らせを3件取得
- 日付 + タイトル をリスト表示

### 2. 買取価格一覧 `src/app/prices/page.tsx`

**機能コンポーネント**:

`PriceTabs`: カテゴリタブ（すべて/ポケモン/遊戯王/ワンピース/デジタル/その他）
- ピル型ボタン、activeで青塗り

`PriceSearch`: 検索バー
- 🔍アイコン付きの丸角input
- デバウンス300msでフィルタリング

`PriceTable`: 価格テーブル
- ヘッダー: カード名 / シリーズ / レアリティ / 美品 / 良品 / 傷あり
- レアリティは色分けバッジ
- 価格は Orbitron フォント
- ホバーでハイライト
- ページネーション（20件/ページ）

**データ取得**:
- Server Component でSupabaseから `buy_prices` を取得
- カテゴリはリレーションで JOIN
- 検索はクライアントサイドフィルタリング（初期ロードで全件取得）
  - データ量が多い場合はサーバーサイド検索に切替可能

**注意書き**: ページ下部に「※価格は日々変動します。正確な金額はオンライン査定をご利用ください。」

### 3. 買取の流れ `src/app/flow/page.tsx`

**FlowSteps セクション**:
- 4ステップ（横一列、間を点線で接続）
- 各ステップ: 番号バッジ（グラデーション円）+ アイコン + タイトル + 説明

| Step | アイコン | タイトル | 説明 |
|------|---------|---------|------|
| 1 | 📝 | 査定申込 | フォームに商品情報と写真を入力して送信 |
| 2 | 🔍 | 査定・ご連絡 | 専門スタッフが査定し、メールで金額をご提示 |
| 3 | 📦 | 承諾・発送 | 金額にご納得いただけたらカードを発送 |
| 4 | 💰 | お支払い | 商品確認後、お振込みにてお支払い |

**FlowMethods セクション**:
- 3列カード（買取方法の種類）
  - 📦 宅配買取（全国対応）: 「送料無料キットをお送りします」
  - 🏪 店頭買取: 「※準備中」
  - 🚗 出張買取: 「※準備中」

**FAQ セクション**:
- アコーディオン（クリックで開閉）
- 5〜8件の質問と回答

例:
- Q: 査定は無料ですか？ → A: はい、完全無料です。
- Q: 傷があるカードも買い取ってもらえますか？ → A: はい、状態に応じた価格で買取いたします。
- Q: デジタルカードの買取はどのように行われますか？ → A: 対象のガチャサイトのアカウント情報を確認の上...
- Q: 入金までどれくらいかかりますか？ → A: 商品到着・確認後、3営業日以内にお振込みいたします。
- Q: キャンセルはできますか？ → A: 査定結果通知後にキャンセル可能です。

**CTA**: 「無料オンライン査定はこちら」ボタン → /assessment

### 4. 会社概要 `src/app/company/page.tsx`

2カラムレイアウト:

**左カラム: 会社情報テーブル**
- 各行: ラベル（灰色背景）+ 値
- 項目: 法人名/代表者/所在地/電話番号/メール/設立/事業内容
- プレースホルダーは `{{COMPANY_NAME}}` 等を表示し、イタリック+薄色で「（後日記載）」と併記

**右カラム: 古物商許可情報カード**
- 枠付きカード
- タイトル: 「🛡️ 古物商許可情報」
- 項目: 許可番号/許可公安委員会/届出区分/取扱品目
- 許可番号は `{{KOBUTSU_NUMBER}}` で、オレンジ色の「許可取得後に記載」テキスト

### 5. 特定商取引法 `src/app/legal/page.tsx`

中央配置のテーブル（最大幅800px）:
- 各行: ラベル（灰色背景幅200px）+ 値
- `docs/05_LEGAL_REQUIREMENTS.md` の内容をテーブル化
- プレースホルダーは `{{COMPANY_NAME}}` 等

### 6. メタデータ設定

各ページに `export const metadata` を設定:

```typescript
export const metadata: Metadata = {
  title: 'ページタイトル | {{SITE_NAME}}',
  description: 'ページの説明文',
  openGraph: {
    title: 'ページタイトル | {{SITE_NAME}}',
    description: 'ページの説明文',
  }
}
```

## 完了条件

- [ ] トップページの全セクションが表示される
- [ ] ヒーローのアニメーション（浮遊カード、fadeInUp）が動作する
- [ ] 買取価格一覧でカテゴリフィルター・検索が動作する
- [ ] 買取価格テーブルのデータがSupabaseから取得されている
- [ ] 買取の流れページのFAQアコーディオンが動作する
- [ ] 会社概要のプレースホルダーが正しく表示されている
- [ ] 特商法ページが正しく表示されている
- [ ] 全ページがモバイルレスポンシブ対応している
- [ ] フッターから会社概要・特商法ページへのリンクが機能する
